var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(a){function b(){this.batch_=null}function c(a){return a instanceof e?a:new e(function(b,c){b(a)})}if(a&&!$jscomp.FORCE_POLYFILL_PROMISE)return a;b.prototype.asyncExecute=function(a){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a);return this};b.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var d=$jscomp.global.setTimeout;b.prototype.asyncExecuteFunction=function(a){d(a,
0)};b.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var c=a[b];a[b]=null;try{c()}catch(k){this.asyncThrow_(k)}}}this.batch_=null};b.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var e=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(g){b.reject(g)}};e.prototype.createResolveAndReject_=
function(){function a(a){return function(d){c||(c=!0,a.call(b,d))}}var b=this,c=!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};e.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof e)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var b=null!=a;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};e.prototype.resolveToNonPromiseObj_=function(a){var b=
void 0;try{b=a.then}catch(g){this.reject_(g);return}"function"==typeof b?this.settleSameAsThenable_(b,a):this.fulfill_(a)};e.prototype.reject_=function(a){this.settle_(2,a)};e.prototype.fulfill_=function(a){this.settle_(1,a)};e.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b+"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};e.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=
0;a<this.onSettledCallbacks_.length;++a)f.asyncExecute(this.onSettledCallbacks_[a]);this.onSettledCallbacks_=null}};var f=new b;e.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};e.prototype.settleSameAsThenable_=function(a,b){var c=this.createResolveAndReject_();try{a.call(b,c.resolve,c.reject)}catch(k){c.reject(k)}};e.prototype.then=function(a,b){function c(a,b){return"function"==typeof a?function(b){try{d(a(b))}catch(l){f(l)}}:
b}var d,f,h=new e(function(a,b){d=a;f=b});this.callWhenSettled_(c(a,d),c(b,f));return h};e.prototype.catch=function(a){return this.then(void 0,a)};e.prototype.callWhenSettled_=function(a,b){function c(){switch(d.state_){case 1:a(d.result_);break;case 2:b(d.result_);break;default:throw Error("Unexpected state: "+d.state_);}}var d=this;null==this.onSettledCallbacks_?f.asyncExecute(c):this.onSettledCallbacks_.push(c)};e.resolve=c;e.reject=function(a){return new e(function(b,c){c(a)})};e.race=function(a){return new e(function(b,
d){for(var e=$jscomp.makeIterator(a),f=e.next();!f.done;f=e.next())c(f.value).callWhenSettled_(b,d)})};e.all=function(a){var b=$jscomp.makeIterator(a),d=b.next();return d.done?c([]):new e(function(a,e){function f(b){return function(c){h[b]=c;g--;0==g&&a(h)}}var h=[],g=0;do h.push(void 0),g++,c(d.value).callWhenSettled_(f(h.length-1),e),d=b.next();while(!d.done)})};return e},"es6","es3");$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(a){return{value:a,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(b){return a.next(b)}function c(b){return a.throw(b)}return new Promise(function(d,e){function f(a){a.done?d(a.value):Promise.resolve(a.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$jscomp.polyfill("Object.is",function(a){return a?a:function(a,c){return a===c?0!==a||1/a===1/c:a!==a&&c!==c}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,c){var b=this;b instanceof String&&(b=String(b));var e=b.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=b[c];if(f===a||Object.is(f,a))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,c){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,c||0)}},"es6","es3");
$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");
var html={spinner:'<svg class="spinner" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">\n                <circle class="path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle>\n            </svg>',spinner_small:'<svg class="spinner spinner-small" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">\n                <circle class="path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle>\n            </svg>',mdswitch:'<input type="checkbox" id="id-name--1" name="set-name" class="switch-input">\n    <label for="id-name--1" class="switch-label">Switch <span class="toggle--on">On</span><span class="toggle--off">Off</span></label>',
dots:'<div class="ellipses">\n    <span class="one">.</span><span class="two">.</span><span class="three">.</span>\n  </div>',placeholder:"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==",loading:'<div class="loading">\n    <svg class="spinner" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">\n        <circle class="path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle>\n    </svg>\n</div>',google:'\n    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 48 48"><defs><path id="a" d="M44.5 20H24v8.5h11.8C34.7 33.9 30.1 37 24 37c-7.2 0-13-5.8-13-13s5.8-13 13-13c3.1 0 5.9 1.1 8.1 2.9l6.4-6.4C34.6 4.1 29.6 2 24 2 11.8 2 2 11.8 2 24s9.8 22 22 22c11 0 21-8 21-22 0-1.3-.2-2.7-.5-4z"/></defs><clipPath id="b"><use xlink:href="#a" overflow="visible"/></clipPath><path clip-path="url(#b)" fill="#FBBC05" d="M0 37V11l17 13z"/><path clip-path="url(#b)" fill="#EA4335" d="M0 11l17 13 7-6.1L48 14V0H0z"/><path clip-path="url(#b)" fill="#34A853" d="M0 37l30-23 7.9 1L48 0v48H0z"/><path clip-path="url(#b)" fill="#4285F4" d="M48 48L17 24l-4-3 35-10z"/></svg>'},
get=function(a,b,c){c=void 0===c?null:c;return a.reduce(function(a,b){return a&&a[b]?a[b]:c},b)},MAX_GEOCODE_CONNECTIONS=10,API_KEY="AIzaSyBLjH1zVUY5zh3NM65NqRVP3eQxZy6ifcA",CLIENT_ID="257316982603-0jmairn23vl079i1tt4tf0nk5kmkn32t.apps.googleusercontent.com",DISCOVERY_DOCS=["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],SCOPES="https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/drive.photos.readonly",Geometry=function(a){this.markers=a;this.groups=[]};
Geometry.prototype.distance=function(a,b){if(!a||!b)return 0;var c=(b.lat()-a.lat())*Math.PI/180,d=(b.lng()-a.lng())*Math.PI/180;a=Math.sin(c/2)*Math.sin(c/2)+Math.cos(a.lat()*Math.PI/180)*Math.cos(b.lat()*Math.PI/180)*Math.sin(d/2)*Math.sin(d/2);return 12742*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))};Geometry.prototype.group=function(){};
function MarkerClusterer(a,b,c){this.extend(MarkerClusterer,google.maps.OverlayView);this.map_=a;this.markers_=[];this.clusters_=[];this.sizes=[53,56,66,78,90];this.styles_=[];this.ready_=!1;c=c||{};this.gridSize_=c.gridSize||60;this.minClusterSize_=c.minimumClusterSize||2;this.maxZoom_=c.maxZoom||null;this.styles_=c.styles||[];this.cssClass_=c.cssClass;this.imagePath_=c.imagePath||this.MARKER_CLUSTER_IMAGE_PATH_;this.imageExtension_=c.imageExtension||this.MARKER_CLUSTER_IMAGE_EXTENSION_;this.zoomOnClick_=
!0;void 0!=c.zoomOnClick&&(this.zoomOnClick_=c.zoomOnClick);this.averageCenter_=!1;void 0!=c.averageCenter&&(this.averageCenter_=c.averageCenter);this.setupStyles_();this.setMap(a);this.prevZoom_=this.map_.getZoom();var d=this;google.maps.event.addListener(this.map_,"zoom_changed",function(){var a=d.map_.getZoom(),b=d.map_.minZoom||0,c=Math.min(d.map_.maxZoom||100,d.map_.mapTypes[d.map_.getMapTypeId()].maxZoom);a=Math.min(Math.max(a,b),c);d.prevZoom_!=a&&(d.prevZoom_=a,d.resetViewport())});google.maps.event.addListener(this.map_,
"idle",function(){d.redraw()});b&&(b.length||Object.keys(b).length)&&this.addMarkers(b,!1)}MarkerClusterer.prototype.getCssClass=function(){return this.cssClass_};MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_PATH_="../images/m";MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_EXTENSION_="png";MarkerClusterer.prototype.extend=function(a,b){return function(a){for(var b in a.prototype)this.prototype[b]=a.prototype[b];return this}.apply(a,[b])};MarkerClusterer.prototype.onAdd=function(){this.setReady_(!0)};
MarkerClusterer.prototype.draw=function(){};MarkerClusterer.prototype.setupStyles_=function(){if(!this.styles_.length)for(var a=0,b;b=this.sizes[a];a++)this.styles_.push({url:this.imagePath_+(a+1)+"."+this.imageExtension_,height:b,width:b})};MarkerClusterer.prototype.fitMapToMarkers=function(){for(var a=this.getMarkers(),b=new google.maps.LatLngBounds,c=0,d;d=a[c];c++)b.extend(d.getPosition());this.map_.fitBounds(b)};MarkerClusterer.prototype.setStyles=function(a){this.styles_=a};
MarkerClusterer.prototype.getStyles=function(){return this.styles_};MarkerClusterer.prototype.isZoomOnClick=function(){return this.zoomOnClick_};MarkerClusterer.prototype.isAverageCenter=function(){return this.averageCenter_};MarkerClusterer.prototype.getMarkers=function(){return this.markers_};MarkerClusterer.prototype.getTotalMarkers=function(){return this.markers_.length};MarkerClusterer.prototype.setMaxZoom=function(a){this.maxZoom_=a};MarkerClusterer.prototype.getMaxZoom=function(){return this.maxZoom_};
MarkerClusterer.prototype.calculator_=function(a,b){for(var c=0,d=a=a.length;0!==d;)d=parseInt(d/10,10),c++;c=Math.min(c,b);return{text:a,index:c}};MarkerClusterer.prototype.setCalculator=function(a){this.calculator_=a};MarkerClusterer.prototype.getCalculator=function(){return this.calculator_};MarkerClusterer.prototype.addMarkers=function(a,b){if(a.length)for(var c=0,d;d=a[c];c++)this.pushMarkerTo_(d);else if(Object.keys(a).length)for(d in a)this.pushMarkerTo_(a[d]);b||this.redraw()};
MarkerClusterer.prototype.pushMarkerTo_=function(a){a.isAdded=!1;if(a.draggable){var b=this;google.maps.event.addListener(a,"dragend",function(){a.isAdded=!1;b.repaint()})}this.markers_.push(a)};MarkerClusterer.prototype.addMarker=function(a,b){this.pushMarkerTo_(a);b||this.redraw()};
MarkerClusterer.prototype.removeMarker_=function(a){var b=-1;if(this.markers_.indexOf)b=this.markers_.indexOf(a);else for(var c=0,d;d=this.markers_[c];c++)if(d==a){b=c;break}if(-1==b)return!1;a.setMap(null);this.markers_.splice(b,1);return!0};MarkerClusterer.prototype.removeMarker=function(a,b){a=this.removeMarker_(a);return!b&&a?(this.resetViewport(),this.redraw(),!0):!1};
MarkerClusterer.prototype.removeMarkers=function(a,b){for(var c=!1,d=0,e;e=a[d];d++)e=this.removeMarker_(e),c=c||e;if(!b&&c)return this.resetViewport(),this.redraw(),!0};MarkerClusterer.prototype.setReady_=function(a){this.ready_||(this.ready_=a,this.createClusters_())};MarkerClusterer.prototype.getTotalClusters=function(){return this.clusters_.length};MarkerClusterer.prototype.getMap=function(){return this.map_};MarkerClusterer.prototype.setMap=function(a){this.map_=a};
MarkerClusterer.prototype.getGridSize=function(){return this.gridSize_};MarkerClusterer.prototype.setGridSize=function(a){this.gridSize_=a};MarkerClusterer.prototype.getMinClusterSize=function(){return this.minClusterSize_};MarkerClusterer.prototype.setMinClusterSize=function(a){this.minClusterSize_=a};
MarkerClusterer.prototype.getExtendedBounds=function(a){var b=this.getProjection(),c=new google.maps.LatLng(a.getNorthEast().lat(),a.getNorthEast().lng()),d=new google.maps.LatLng(a.getSouthWest().lat(),a.getSouthWest().lng());c=b.fromLatLngToDivPixel(c);c.x+=this.gridSize_;c.y-=this.gridSize_;d=b.fromLatLngToDivPixel(d);d.x-=this.gridSize_;d.y+=this.gridSize_;c=b.fromDivPixelToLatLng(c);b=b.fromDivPixelToLatLng(d);a.extend(c);a.extend(b);return a};
MarkerClusterer.prototype.isMarkerInBounds_=function(a,b){return b.contains(a.getPosition())};MarkerClusterer.prototype.clearMarkers=function(){this.resetViewport(!0);this.markers_=[]};MarkerClusterer.prototype.resetViewport=function(a){for(var b=0,c;c=this.clusters_[b];b++)c.remove();for(b=0;c=this.markers_[b];b++)c.isAdded=!1,a&&c.setMap(null);this.clusters_=[]};
MarkerClusterer.prototype.repaint=function(){var a=this.clusters_.slice();this.clusters_.length=0;this.resetViewport();this.redraw();window.setTimeout(function(){for(var b=0,c;c=a[b];b++)c.remove()},0)};MarkerClusterer.prototype.redraw=function(){this.createClusters_()};
MarkerClusterer.prototype.distanceBetweenPoints_=function(a,b){if(!a||!b)return 0;var c=(b.lat()-a.lat())*Math.PI/180,d=(b.lng()-a.lng())*Math.PI/180;a=Math.sin(c/2)*Math.sin(c/2)+Math.cos(a.lat()*Math.PI/180)*Math.cos(b.lat()*Math.PI/180)*Math.sin(d/2)*Math.sin(d/2);return 12742*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))};
MarkerClusterer.prototype.addToClosestCluster_=function(a){var b=4E4,c=null;a.getPosition();for(var d=0,e;e=this.clusters_[d];d++){var f=e.getCenter();f&&(f=this.distanceBetweenPoints_(f,a.getPosition()),f<b&&(b=f,c=e))}c&&c.isMarkerInClusterBounds(a)?c.addMarker(a):(e=new Cluster(this),e.addMarker(a),this.clusters_.push(e))};
MarkerClusterer.prototype.createClusters_=function(){if(this.ready_){var a=new google.maps.LatLngBounds(this.map_.getBounds().getSouthWest(),this.map_.getBounds().getNorthEast());a=this.getExtendedBounds(a);for(var b=0,c;c=this.markers_[b];b++)!c.isAdded&&this.isMarkerInBounds_(c,a)&&this.addToClosestCluster_(c)}};
function Cluster(a){this.markerClusterer_=a;this.map_=a.getMap();this.gridSize_=a.getGridSize();this.minClusterSize_=a.getMinClusterSize();this.averageCenter_=a.isAverageCenter();this.center_=null;this.markers_=[];this.bounds_=null;this.cssClass=a.getCssClass();this.clusterIcon_=new ClusterIcon(this,a.getStyles(),a.getGridSize())}Cluster.prototype.getFrontCoverStyles=function(){for(var a=[],b=0;5>b;b++)a.push({url:clusters_[0].markers_[0].cover,height:64,width:64});return a};
Cluster.prototype.getFrontCover=function(){return this.markers_[0].cover};Cluster.prototype.isMarkerAlreadyAdded=function(a){if(this.markers_.indexOf)return-1!=this.markers_.indexOf(a);for(var b=0,c;c=this.markers_[b];b++)if(c==a)return!0;return!1};
Cluster.prototype.addMarker=function(a){if(this.isMarkerAlreadyAdded(a))return!1;if(!this.center_)this.center_=a.getPosition(),this.calculateBounds_();else if(this.averageCenter_){var b=this.markers_.length+1,c=(this.center_.lat()*(b-1)+a.getPosition().lat())/b;b=(this.center_.lng()*(b-1)+a.getPosition().lng())/b;this.center_=new google.maps.LatLng(c,b);this.calculateBounds_()}a.isAdded=!0;this.markers_.push(a);c=this.markers_.length;c<this.minClusterSize_&&a.getMap()!=this.map_&&a.setMap(this.map_);
if(c==this.minClusterSize_)for(b=0;b<c;b++)this.markers_[b].setMap(null);c>=this.minClusterSize_&&a.setMap(null);this.updateIcon();return!0};Cluster.prototype.getMarkerClusterer=function(){return this.markerClusterer_};Cluster.prototype.getBounds=function(){for(var a=new google.maps.LatLngBounds(this.center_,this.center_),b=this.getMarkers(),c=0,d;d=b[c];c++)a.extend(d.getPosition());return a};Cluster.prototype.remove=function(){this.clusterIcon_.remove();this.markers_.length=0;delete this.markers_};
Cluster.prototype.getSize=function(){return this.markers_.length};Cluster.prototype.getMarkers=function(){return this.markers_};Cluster.prototype.getCenter=function(){return this.center_};Cluster.prototype.calculateBounds_=function(){var a=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(a)};Cluster.prototype.isMarkerInClusterBounds=function(a){return this.bounds_.contains(a.getPosition())};Cluster.prototype.getMap=function(){return this.map_};
Cluster.prototype.updateIcon=function(){var a=this.map_.getZoom(),b=this.markerClusterer_.getMaxZoom();if(b&&a>b)for(a=0;b=this.markers_[a];a++)b.setMap(this.map_);else this.markers_.length<this.minClusterSize_?this.clusterIcon_.hide():(a=this.markerClusterer_.getStyles().length,a=this.markerClusterer_.getCalculator()(this.markers_,a),this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.setSums(a),this.clusterIcon_.setCover(this.getFrontCover()),this.clusterIcon_.show())};
function ClusterIcon(a,b,c){a.getMarkerClusterer().extend(ClusterIcon,google.maps.OverlayView);this.styles_=b;this.padding_=c||0;this.cluster_=a;this.center_=null;this.map_=a.getMap();this.sums_=this.div_=null;this.visible_=!1;this.cover="";this.setMap(this.map_)}ClusterIcon.prototype.triggerClusterClick=function(){var a=this.cluster_.getMarkerClusterer();google.maps.event.trigger(a,"clusterclick",this.cluster_);a.isZoomOnClick()&&this.map_.fitBounds(this.cluster_.getBounds())};
ClusterIcon.prototype.onAdd=function(){this.div_=document.createElement("DIV");if(this.visible_){var a=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(a);this.div_.className=this.cluster_.cssClass;this.div_.innerHTML='<span class="_cluster_inner">'+this.sums_.text+"</span>"}this.getPanes().overlayMouseTarget.appendChild(this.div_);var b=this;google.maps.event.addDomListener(this.div_,"click",function(){b.triggerClusterClick()})};
ClusterIcon.prototype.getPosFromLatLng_=function(a){a=this.getProjection().fromLatLngToDivPixel(a);a.x-=parseInt(this.width_/2,10);a.y-=parseInt(this.height_/2,10);return a};ClusterIcon.prototype.draw=function(){if(this.visible_){var a=this.getPosFromLatLng_(this.center_);this.div_.style.top=a.y+"px";this.div_.style.left=a.x+"px"}};ClusterIcon.prototype.hide=function(){this.div_&&(this.div_.style.display="none");this.visible_=!1};
ClusterIcon.prototype.show=function(){if(this.div_){var a=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(a);this.div_.style.display=""}this.visible_=!0};ClusterIcon.prototype.remove=function(){this.setMap(null)};ClusterIcon.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),this.div_.parentNode.removeChild(this.div_),this.div_=null)};
ClusterIcon.prototype.setSums=function(a){this.sums_=a;this.text_=a.text;this.index_=a.index;this.div_&&(this.div_.innerHTML=a.text);this.setCover(this.cover)};ClusterIcon.prototype.useStyle=function(){var a=Math.max(0,this.sums_.index-1);a=Math.min(this.styles_.length-1,a);a=this.styles_[a];this.url_=a.url;this.height_=a.height;this.width_=a.width;this.textColor_=a.textColor;this.anchor_=a.anchor;this.textSize_=a.textSize;this.backgroundPosition_=a.backgroundPosition};
ClusterIcon.prototype.setCover=function(a){this.url_=a;this.width_=this.height_=64};ClusterIcon.prototype.setCenter=function(a){this.center_=a};
ClusterIcon.prototype.createCss=function(a){var b=[];b.push("background-image:url("+this.url_+");");b.push("background-position:"+(this.backgroundPosition_?this.backgroundPosition_:"0 0")+";");"object"===typeof this.anchor_?("number"===typeof this.anchor_[0]&&0<this.anchor_[0]&&this.anchor_[0]<this.height_?b.push("height:"+(this.height_-this.anchor_[0])+"px; padding-top:"+this.anchor_[0]+"px;"):b.push("height:"+this.height_+"px; line-height:"+this.height_+"px;"),"number"===typeof this.anchor_[1]&&
0<this.anchor_[1]&&this.anchor_[1]<this.width_?b.push("width:"+(this.width_-this.anchor_[1])+"px; padding-left:"+this.anchor_[1]+"px;"):b.push("width:"+this.width_+"px; text-align:center;")):b.push("height:"+this.height_+"px; line-height:"+this.height_+"px; width:"+this.width_+"px; text-align:center;");b.push("cursor:pointer; top:"+a.y+"px; left:"+a.x+"px; color:"+(this.textColor_?this.textColor_:"black")+"; position:absolute; font-size:"+(this.textSize_?this.textSize_:11)+"px; font-family:Arial,sans-serif; font-weight:bold");
return b.join("")};var Photo=function(a){this.id=a.id;this.url=a.thumbnailLink;this.meta=a.imageMediaMetadata?a.imageMediaMetadata:{};this.addedTime=new Date;this.THUMB_LIFETIME=9E5};Photo.prototype.hasLocation=function(){return void 0!=this.meta.location};Photo.prototype.setLocation=function(a){};Photo.prototype.getFormattedAddress=function(){};Photo.prototype.isExpired=function(){return(new Date).getTime()-this.addedTime.getTime()>this.THUMB_LIFETIME};
Photo.prototype.getSize=function(a){var b=function(a,b){0<c.length&&(c+="-");c+=a;b&&(c+=b)},c="";a.crop&&!a.height&&(a.height=a.width);a.width&&b("w",Math.floor(a.width));a.height&&b("h",Math.floor(a.height));a.crop&&b("p-k-nu");a.aspect&&b("no");return"https://drive.google.com/thumbnail?authuser=0&id="+this.id+"&sz="+c};Photo.resize=function(a,b){return""+a.substr(0,a.length-3)+b};
$jscomp.global.Object.defineProperties(Photo.prototype,{camera:{configurable:!0,enumerable:!0,get:function(){var a=get(["cameraMake"],this.meta),b=get(["cameraModel"],this.meta);return a&&b?""+a.charAt(0).toUpperCase()+a.substr(1)+" "+b:"None"}},height:{configurable:!0,enumerable:!0,get:function(){return this.meta.height}},width:{configurable:!0,enumerable:!0,get:function(){return this.meta.width}},latitude:{configurable:!0,enumerable:!0,get:function(){return get(["location","latitude"],this.meta)}},
longitude:{configurable:!0,enumerable:!0,get:function(){return this.meta.location.longitude}},location:{configurable:!0,enumerable:!0,get:function(){return{latitude:this.latitude,longitude:this.longitude}}}});var PhotoMap=function(){this.state="unloaded";this.status={drive:!1,maps:!1,photos:!1};this.photos=[];this.geocodeCount=0;this.markers=[];this.infoWindows=[];this.PAGE_SIZE=1E3;this.MAX_PHOTOS=4E3;this.RECURSE=!0;this.SIDEBAR=this.GEOCODE=!1;this.ui=new UI(this)};
PhotoMap.prototype.loadMap=function(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:0,lng:0},zoom:2});this.map.addListener("zoom_changed",function(){photoMap.resetClusters()});this.geocoder=new google.maps.Geocoder;var a=document.createElement("script");a.onload=function(){photoMap.status.maps=!0};a.src="dist/richmarker.js";document.head.appendChild(a)};
PhotoMap.prototype.updateSidebarPlaces=function(){var a=this,b,c,d;return $jscomp.asyncExecutePromiseGeneratorProgram(function(e){b=$jscomp.makeIterator(a.clusterer.clusters_);for(c=b.next();!c.done;c=b.next())d=c.value,d.clusterIcon_.url_&&a.ui.addPlace({lat:d.center_.lat(),long:d.center_.lng(),count:get(["clusterIcon_","sums_","text"],d),cover:Photo.resize(d.clusterIcon_.url_,512)});e.jumpToEnd()})};
PhotoMap.prototype.clearMap=function(){for(var a=$jscomp.makeIterator(this.markers),b=a.next();!b.done;b=a.next())b.value.setMap(null);this.markers.length=0};PhotoMap.prototype.reset=function(){this.clearMap();this.photos.length=0};
PhotoMap.prototype.processPhoto=function(a){this.photos.push(a);$("#content-loading").remove();if(a.hasLocation()){if(this.SIDEBAR){var b=document.createElement("div");b.className="photo-list-item";b.id=a.id;b.innerHTML='\n                <div class="photo-container">\n                    <img data-src="'+a.getSize({width:440})+'">\n                </div>\n                <div class="photo-meta-container">\n                    <div class="photo-meta-tags">\n                        \x3c!--<span class="photo-meta-tag-type"><i class="fas fa-question-circle"></i> Still</span>\n                        <span class="photo-meta-tag-camera"><i class="fas fa-camera"></i> '+
a.camera+'</span>\n                        <span class="photo-meta-tag-resolution"><i class="fas fa-image"></i> '+a.width+" x "+a.height+'</span>--\x3e\n                    </div>\n                    <div class="photo-meta-location-container">\n                        <span class="fa-layers fa-fw">\n                            <i class="fas fa-location-arrow"></i> \n                        </span> \n                    \n                        <span class="photo-meta-location">'+html.dots+"</span>\n                    </div>\n                    \n                </div>\n            ";
this.photo_list[0].appendChild(b)}this.photoToMap(a);$(document).on("click",".photo-list-item[data-id='"+a.id+"']",function(){var b=photoMap.markers.filter(function(b){return b.id==a.id})[0];new google.maps.event.trigger(b,"click")});this.getLocation(a)}};
PhotoMap.prototype.photoToMap=function(a){var b=this,c=new google.maps.LatLng(a.latitude,a.longitude),d=new RichMarker({position:c,map:this.map,content:'<div><img style="height: 64px; border-radius: 5%; border: 4px solid white;" src="'+a.getSize({width:256})+'"/></div>',draggable:!1,flat:!0,anchor:RichMarkerPosition.TOP,cover:a.getSize({width:256})});d.id=a.id;d.addListener("click",function(){photoMap.infoWindow&&photoMap.infoWindow.close();photoMap.infoWindow=new google.maps.InfoWindow({content:'<a href="https://drive.google.com/file/d/'+
a.id+'/view" target="_blank"><img src="'+a.getSize({aspect:!0})+'"></a>'});photoMap.infoWindow.open(b.map,d);20>photoMap.map.zoom&&photoMap.map.setZoom(21);photoMap.map.panTo(d.position)});this.markers.push(d)};PhotoMap.prototype.resetClusters=function(){this.clusterer&&this.clusterer.clearMarkers();this.clusterer=new MarkerClusterer(this.map,this.markers,{maxZoom:21,minimumClusterSize:2,cssClass:"cluster"})};
PhotoMap.prototype.getLocation=function(a,b){b=void 0===b?!1:b;var c=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(d){if(1==d.nextAddress)return b?d.yield(sleep(1E3),2):d.jumpTo(2);c.GEOCODE&&c.executeGeocodeRequest(a);d.jumpToEnd()})};
PhotoMap.prototype.executeGeocodeRequest=function(a){var b=this,c,d;return $jscomp.asyncExecutePromiseGeneratorProgram(function(e){1==e.nextAddress&&(c=1E3);if(3!=e.nextAddress)return b.geocodeCount>=MAX_GEOCODE_CONNECTIONS?e.yield(sleep(c),2):e.jumpTo(3);b.geocodeCount++;d={lat:a.latitude,lng:a.longitude};b.geocoder.geocode({location:d},function(b,c){"OK"===c?b[0]?photoMap.processGeocode(b[0],a):console.log("No results found"):c==google.maps.GeocoderStatus.OVER_QUERY_LIMIT?photoMap.getLocation(a,
!0):console.log("Geocoder failed due to: "+c);photoMap.geocodeCount--});e.jumpToEnd()})};
PhotoMap.prototype.processGeocode=function(a,b){var c=a.formatted_address;a=$jscomp.makeIterator(a.address_components);for(var d=a.next();!d.done;d=a.next())if(d=d.value,d.types.includes("country"))var e=d.long_name;else if(d.types.includes("locality")||d.types.includes("administrative_area_level_1"))var f=d.long_name;e&&f&&(c=e+", "+f);console.log(b.id+" : "+c);$("#"+b.id+" > div.photo-meta-container > div.photo-meta-location-container > span.photo-meta-location").html(c);b.meta.location.address=
c};
PhotoMap.prototype.getPhotos=function(a){var b=this,c;return $jscomp.asyncExecutePromiseGeneratorProgram(function(d){c=b.query?"fullText contains '"+b.query+'\' and mimeType contains "image/" and trashed=false':'mimeType contains "image/" and trashed=false';return d.yield(gapi.client.init({apiKey:API_KEY,clientId:CLIENT_ID,discoveryDocs:DISCOVERY_DOCS,scope:SCOPES}).then(function(){return gapi.client.drive.files.list({q:c,spaces:"photos, drive",fields:"nextPageToken,files(id,imageMediaMetadata,thumbnailLink)",pageToken:a,
pageSize:b.PAGE_SIZE})}).then(function(c){c.result.error?b.getPhotos(a):b.photos.length>=b.MAX_PHOTOS?(console.log("Reached max photo count"),b.allPhotosLoaded=!0):c.result.files&&b.addListOfPhotos(c.result)}),0)})};
PhotoMap.prototype.addListOfPhotos=function(a){for(var b=$jscomp.makeIterator(a.files),c=b.next();!c.done;c=b.next())this.processPhoto(new Photo(c.value));this.resetClusters();this.updateSidebarPlaces();a.nextPageToken&&this.RECURSE?(this.getPhotos(a.nextPageToken),this.ui.statusMessage="Fetched "+this.photos.length+" photos..."):a.nextPageToken||(this.allPhotosLoaded=!0)};
$jscomp.global.Object.defineProperties(PhotoMap.prototype,{isFirstTime:{configurable:!0,enumerable:!0,get:function(){return"false"==localStorage.getItem("isFirstTime")?!1:!0},set:function(a){localStorage.setItem("isFirstTime",a)}},loaded:{configurable:!0,enumerable:!0,get:function(){return this.status.drive&&this.status.maps?!0:!1}},maxPhotosReached:{configurable:!0,enumerable:!0,get:function(){return this.photos.length>=this.MAX_PHOTOS}},allPhotosLoaded:{configurable:!0,enumerable:!0,set:function(a){this.status.photos=
!0;this.ui.status="loaded"},get:function(){return this.status.photos}}});var UI=function(a){this.photoMap=a;this.html={loading:'<div class="loading">\n                        '+html.spinner_small+' <span class="status">Fetching your Photos...</span>\n                    </div>',photoList:'<div class="photo-list"></div>'};this.selectors={overlay:"#overlay",container:"#overlay .content",status:"#overlay .content .loading .status"};this.container=$(this.selectors.container);this.bindings();this.load()};
UI.prototype.bindings=function(){var a=this;$(this.selectors.overlay+" .close-icon").on("click",function(){$(a.selectors.overlay).toggleClass("minimised");$(".close-icon > svg").toggleClass("fa-rotate-180")})};UI.prototype.updateLoading=function(a){a&&this.container.html("");this.loading||(this.loading=$(this.html.loading).appendTo(this.container));$(this.selectors.status).html(this.loadingMessage_)};UI.prototype.emptyPlaces=function(){this.photo_list.empty()};
UI.prototype.addPlace=function(a){var b=document.createElement("div");b.className="photo-list-item";b.innerHTML='\n                <div class="photo-container">\n                    <img src="'+a.cover+'">\n                </div>\n                <div class="photo-meta-container">\n                    <div class="photo-meta-tags">\n                        \x3c!--<span class="photo-meta-tag-type"><i class="fas fa-question-circle"></i> Still</span>\n                        <span class="photo-meta-tag-camera"><i class="fas fa-camera"></i> </span>\n                        <span class="photo-meta-tag-resolution"><i class="fas fa-image"></i> </span>--\x3e\n                    </div>\n                    <div class="photo-meta-location-container">\n                        <span class="fa-layers fa-fw">\n                            <i class="fas fa-location-arrow"></i>\n                        </span> \n                    \n                        <span class="photo-meta-location">'+
html.dots+"</span>\n                    </div>\n                    \n                </div>\n            ";this.photo_list[0].appendChild(b)};UI.prototype.load=function(){var a=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(b){if(1==b.nextAddress)return a.photoMap.loaded?b.jumpTo(3):b.yield(sleep(200),1);a.photoMap.reset();a.statusMessage="Fetching photos...";a.photo_list=$(a.html.photoList).appendTo(a.container);a.photoMap.getPhotos();b.jumpToEnd()})};
UI.prototype.showSignIn=function(){this.container.html("");this.container.append('\n        <div class="sign-in-container">\n        <div class="sign-in-inner">\n            <a class="button sign-in" href="#" onclick="signInHandler()">\n                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 48 48"><defs><path id="a" d="M44.5 20H24v8.5h11.8C34.7 33.9 30.1 37 24 37c-7.2 0-13-5.8-13-13s5.8-13 13-13c3.1 0 5.9 1.1 8.1 2.9l6.4-6.4C34.6 4.1 29.6 2 24 2 11.8 2 2 11.8 2 24s9.8 22 22 22c11 0 21-8 21-22 0-1.3-.2-2.7-.5-4z"/></defs><clipPath id="b"><use xlink:href="#a" overflow="visible"/></clipPath><path clip-path="url(#b)" fill="#FBBC05" d="M0 37V11l17 13z"/><path clip-path="url(#b)" fill="#EA4335" d="M0 11l17 13 7-6.1L48 14V0H0z"/><path clip-path="url(#b)" fill="#34A853" d="M0 37l30-23 7.9 1L48 0v48H0z"/><path clip-path="url(#b)" fill="#4285F4" d="M48 48L17 24l-4-3 35-10z"/></svg> Sign in with Google\n            </a>\n\n            <a class="privacy-policy" href="privacy.html" target="blank">Privacy Policy</a>\n            </div>\n            </div>\n        ')};
UI.prototype.hideSignIn=function(){this.container.find(".sign-in-container").remove()};UI.prototype.hideStatus=function(){this.loading.hide()};$jscomp.global.Object.defineProperties(UI.prototype,{status:{configurable:!0,enumerable:!0,set:function(a){this.status_=a;"loaded"==this.status_&&this.hideStatus()},get:function(){return this.status_}},statusMessage:{configurable:!0,enumerable:!0,set:function(a){this.loadingMessage_=a;this.updateLoading()}}});
function loadMap(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(a){photoMap.loadMap();console.log("Loaded Map");a.jumpToEnd()})}function signInHandler(a){return $jscomp.asyncExecutePromiseGeneratorProgram(function(a){photoMap.ui.hideSignIn();photoMap.ui.statusMessage="Signing in...";gapi.auth2.authorize({client_id:CLIENT_ID,immediate:!1,scope:SCOPES},function(){console.log(gapi);photoMap.status.drive=!0;photoMap.isFirstTime=!1;console.log("Loaded API")});a.jumpToEnd()})}
function sleep(a){return new Promise(function(b){return setTimeout(b,a)})}function init(){photoMap.isFirstTime?photoMap.ui.showSignIn():signInHandler(!0)}window.photoMap=new PhotoMap;
